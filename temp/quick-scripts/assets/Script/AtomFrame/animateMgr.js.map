{"version":3,"sources":["animateMgr.js"],"names":["cc","Class","extends","Component","properties","TAG","ctor","console","log","aniBuff","onLoad","onDestroy","addAniClip","key","obj","AnimationClip","getAniClip","cleanAniClip","playAni","target","isloop","clip","wrapMode","WrapMode","Loop","Default","aniCom","getComponent","Animation","addComponent","addClip","play"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,aAAK;AADG,KAHP;;AAOLC,UAAM,gBAAY;AACdC,gBAAQC,GAAR,CAAY,UAAU,KAAKH,GAA3B;AACA,aAAKI,OAAL,GAAe,EAAf;AACH,KAVI;;AAYLC,YAAQ,kBAAY;AAChBH,gBAAQC,GAAR,CAAY,WAAW,KAAKH,GAA5B;AACH,KAdI;;AAgBLM,eAAW,qBAAY;AACnBJ,gBAAQC,GAAR,CAAY,cAAc,KAAKH,GAA/B;AACH,KAlBI;;AAoBLO,gBAAY,oBAAUC,GAAV,EAAeC,GAAf,EAAoB;AAC5B,YAAID,OAAO,IAAP,IAAe,CAACC,GAAD,YAAgBd,GAAGe,aAAtC,EAAoD;AAChDR,oBAAQC,GAAR,CAAY,eAAZ,EAA4BK,GAA5B;AACA;AACH;AACD,aAAKJ,OAAL,CAAaI,GAAb,IAAoBC,GAApB;AACH,KA1BI;;AA4BLE,gBAAY,oBAAUH,GAAV,EAAe;AACvB,YAAGA,OAAO,IAAV,EAAe;AACX,mBAAO,IAAP;AACH;AACD,eAAO,KAAKJ,OAAL,CAAaI,GAAb,CAAP;AACH,KAjCI;;AAmCLI,kBAAc,sBAAUJ,GAAV,EAAe;AACzB,aAAKJ,OAAL,CAAaI,GAAb,IAAoB,IAApB;AACH,KArCI;;AAuCLK,aAAS,iBAAUC,MAAV,EAAmBN,GAAnB,EAAyBO,MAAzB,EAAkC;AACvC,YAAGD,UAAU,IAAV,IAAkBN,OAAO,IAA5B,EAAiC;AAC7BN,oBAAQC,GAAR,CAAY,oBAAZ;AACA;AACH;AACD,YAAIa,OAAO,KAAKZ,OAAL,CAAaI,GAAb,CAAX;AACAQ,aAAKC,QAAL,GAAgBF,SAASpB,GAAGuB,QAAH,CAAYC,IAArB,GAA4BxB,GAAGuB,QAAH,CAAYE,OAAxD;AACA,YAAGJ,QAAO,IAAP,IAAe,CAACA,IAAD,YAAiBrB,GAAGe,aAAtC,EAAoD;AAChDR,oBAAQC,GAAR,CAAY,gBAAZ,EAA6BK,GAA7B;AACA;AACH;;AAED,YAAIa,SAASP,OAAOQ,YAAP,CAAoB3B,GAAG4B,SAAvB,CAAb;AACA,YAAGF,UAAU,IAAb,EAAkB;AACdP,mBAAOU,YAAP,CAAoB7B,GAAG4B,SAAvB;AACAF,qBAASP,OAAOQ,YAAP,CAAoB3B,GAAG4B,SAAvB,CAAT;AACH;AACDF,eAAOI,OAAP,CAAeT,IAAf,EAAsB,KAAtB;AACAK,eAAOK,IAAP,CAAY,KAAZ;AACH;;AA1DI,CAAT","file":"animateMgr.js","sourceRoot":"../../../../../assets/Script/AtomFrame","sourcesContent":["\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        TAG: \"animateMgr\",\n    },\n\n    ctor: function () {\n        console.log(\"-new:\" + this.TAG);\n        this.aniBuff = {};\n    },\n\n    onLoad: function () {\n        console.log(\"-load:\" + this.TAG);\n    },\n\n    onDestroy: function () {\n        console.log(\"-destory:\" + this.TAG);\n    },\n\n    addAniClip: function (key ,obj) {\n        if (key == null || !obj instanceof cc.AnimationClip){\n            console.log(\" ------ 类型异常 \",key);\n            return \n        }\n        this.aniBuff[key] = obj;\n    },\n\n    getAniClip: function (key) {\n        if(key == null){\n            return null;\n        }\n        return this.aniBuff[key];\n    },\n\n    cleanAniClip: function (key) {\n        this.aniBuff[key] = null;\n    },\n\n    playAni: function (target , key , isloop ) {\n        if(target == null || key == null){\n            console.log(\" ------ 播放动画对象不能为空\")\n            return \n        }\n        var clip = this.aniBuff[key]\n        clip.wrapMode = isloop ? cc.WrapMode.Loop : cc.WrapMode.Default\n        if(clip ==null || !clip instanceof cc.AnimationClip){\n            console.log(\" ------ Clip异常\",key)\n            return \n        }\n        \n        var aniCom = target.getComponent(cc.Animation)\n        if(aniCom == null){\n            target.addComponent(cc.Animation)\n            aniCom = target.getComponent(cc.Animation)\n        }\n        aniCom.addClip(clip , \"ani\");\n        aniCom.play(\"ani\");\n    }\n\n});\n"]}