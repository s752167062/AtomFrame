{"version":3,"sources":["../../../../assets/Script/assets/Script/HelloWorld.js"],"names":["cc","Class","extends","Component","properties","label","default","type","Label","btnLoad","Button","text","onLoad","string","atom","require","createAtom","Atom","gameConfMgr","TAG","console","log","getInfo","setInfo","eventMgr","listen","obj","data","gameDataMgr","setData","onHW1","notify","onHW2","onLoadCommon","resMgr","loadResByKey","index","total","err","btn","getComponent","normalSprite","spriteMgr","loadSpriteWithUrl","sprite","pressedSprite","getSpriteFrame","hoverSprite","disabledSprite"],"mappings":"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","file":"HelloWorld.js","sourceRoot":"../../../../assets/Script","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        label: {\n            default: null,\n            type: cc.Label\n        },\n\n        btnLoad: {\n            default: null,\n            type: cc.Button\n        },\n        // defaults, set visually when attaching this script to the Canvas\n        text: 'Hello, World!'\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        this.label.string = this.text;\n\n        const atom = require(\"AtomFrame/Atom\");\n        atom.createAtom();\n\n        //演示全局数据 gameConfMgr 配置的是游戏基础配置。 要添加存储、修改游戏业务运行是的数据用gameDataMgr\n        cc.Atom.gameConfMgr.TAG = \"66666\";\n        console.log(\"gameConfMgr version\" , cc.Atom.gameConfMgr.getInfo(\"version\"));\n        console.log(\"gameConfMgr gamemode\", cc.Atom.gameConfMgr.getInfo(\"gamemode\"));\n        cc.Atom.gameConfMgr.setInfo(\"version\" , \"1.2.0\");\n        cc.Atom.gameConfMgr.setInfo(\"gamemode\", \"game\");\n        console.log(\"gameConfMgr version\", cc.Atom.gameConfMgr.getInfo(\"version\"));\n        console.log(\"gameConfMgr gamemode\", cc.Atom.gameConfMgr.getInfo(\"gamemode\"));\n\n        // cc.Atom.memory.showMemoryStatus();\n    \n        //注册事件显示消息\n        cc.Atom.eventMgr.listen(\"_showMsg\", (obj,data)=>{\n            if(typeof(data) == \"string\"){\n                this.label.string = data\n            }else{\n                console.log(\"data_ type: \", typeof(data));\n            }\n        }, this)\n    \n        //设置游戏运行中的数据\n        cc.Atom.gameDataMgr.setData(\"HP_NUM\" , 1000);\n        cc.Atom.gameDataMgr.setData(\"MP_NUM\" , 2000);\n    },\n\n    //HW 1 2 按钮事件\n    onHW1: function () {\n        cc.Atom.eventMgr.notify(\"_onHW1\", \"来自 hello world 场景的消息1\");\n    },\n\n    onHW2: function () {\n        cc.Atom.eventMgr.notify(\"_onHW2\", \"来自 hello world 场景的消息2\");\n    },\n\n    onLoadCommon: function () {\n        cc.Atom.resMgr.loadResByKey(\"common\" , (index , total , err)=>{\n            if(err != null || index == -1){\n                console.log(\"=== 加载资源出现异常： \",err);\n                return\n            }\n            console.log(\" 资源加载进度 ： \" ,index , total);\n            if(index == total){\n                var btn = this.btnLoad.getComponent(cc.Button)\n                btn.normalSprite = cc.Atom.spriteMgr.loadSpriteWithUrl(\"http://pic.qiantucdn.com/58pic/15/47/80/13s58PICQVG_1024.png\", (sprite) => { \n                    if(sprite){\n                        console.log(\"修改为网络图片\")\n                        btn.normalSprite = sprite\n                    }\n                }) //cc.Atom.spriteMgr.getSpriteFrame(\"btn_blue\")//cc.Atom.spriteMgr.getAtlasSpriteFrame(\"common2\",\"image-common2-youxizhong\") //cc.Atom.spriteMgr.getSpriteFrame(\"btn_blue\")\n                btn.pressedSprite = cc.Atom.spriteMgr.getSpriteFrame(\"btn_blue\")//cc.Atom.spriteMgr.getAtlasSpriteFrame(\"common2\", \"image-common2-youxizhong\")//cc.Atom.spriteMgr.getSpriteFrame(\"btn_blue\")\n                btn.hoverSprite = cc.Atom.spriteMgr.getSpriteFrame(\"btn_blue\")//cc.Atom.spriteMgr.getAtlasSpriteFrame(\"common2\", \"image-common2-youxizhong\")// cc.Atom.spriteMgr.getSpriteFrame(\"btn_blue\")\n                btn.disabledSprite = cc.Atom.spriteMgr.getSpriteFrame(\"btn_blue\")//cc.Atom.spriteMgr.getAtlasSpriteFrame(\"common2\", \"image-common2-youxizhong\")//cc.Atom.spriteMgr.getSpriteFrame(\"btn_blue\")\n            }\n        })  \n    },\n});\n"]}